{"version":3,"sources":["components/Input.module.css","components/Main/Links.module.css","components/Login/Login.module.css","components/Main/contextMenu/ContextMenu.module.css","components/Main/Main.module.css","App.module.css","components/Input.jsx","services/api.js","components/Login/LogIn.jsx","hooks/useId.js","components/Main/Links.jsx","components/Main/contextMenu/ContextMenu.jsx","components/Main/Main.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","TextInput","props","label","id","value","onChange","type","onKeyPress","_useState","useState","_useState2","_slicedToArray","active","setActive","_jsxs","className","concat","styles","container","containerActive","children","undefined","_jsx","htmlFor","onFocus","onBlur","input","PassInput","_useState3","_useState4","_getUser","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","data","code","Error","abrupt","user","stop","apply","arguments","_logOut","_callee2","_context2","LogIn","username","password","form","setForm","history","useHistory","noti","setNoti","logIn","topBar","onSubmit","e","email","pass","preventDefault","post","then","push","catch","setTimeout","target","buttonContainer","errorContainer","WS_ID","useId","useMemo","window","storedId","localStorage","getItem","generatedId","size","length","chars","_toConsumableArray","Array","map","Math","floor","random","i","charAt","join","idGenerator","setItem","ImgMessage","content","openContextMenu","contextItems","fn","navigator","clipboard","writeText","open","onContextMenu","x","clientX","y","clientY","message","textMessage","image","src","alt","TextMessage","UrlMessage","onClick","url","electron","openURL","urlMessage","Links","links","validMessage","msg","linksComp","uid","linksContainer","ContextMenu","_ref","context","style","left","top","visible","contextMenu","contextMenuHidden","items","item","WS_URL","Main","clientId","firstname","key","lastname","setUser","messages","setMessages","_useState5","_useState6","ws","setWs","_useState7","_useState8","wsIsOpen","setWsIsOpen","_useState9","_useState10","setInput","_useState11","_useState12","isNotification","setIsNotification","_useState13","_useState14","isOpenLnk","setIsOpenLnk","_useState15","_useState16","uploadingImage","setUploadingImage","mainRef","_useState17","_useState18","contextPos","setContextPos","useEffect","getIsNotificationActive","getIsOpenLnk","_useState19","_useState20","isMenuOpen","setIsMenuOpen","sendMessage","eMsg","JSON","stringify","sender","send","getUser","WebSocket","sendId","addEventListener","parse","handleLogOut","logOut","alert","s","_objectSpread","ref","r","main","loading","h1Container","menuContainer","menuContainerOpen","menuCloseButton","width","height","viewBox","fill","fillRule","points","menuList","menuItem","setIsNotificationActive","checked","err","console","error","confirm","flexContainer","flexTop","welcomeContainer","inputContainer","inputContainerText","disabled","inputButton","uploadImageContainer","uploadImage","loadingSvg","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","uploadImageSvg","cx","cy","file","files","fileReader","FileReader","onload","result","split","token","char","generateToken","_res$data","signature","expire","FormData","append","finalUrl","name","readAsDataURL","display","accept","flexBottom","_mainRef","rect","getBoundingClientRect","xp","yp","App","Router","basename","Switch","Route","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ce9cdb14.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Input_container__16MGs\",\"input\":\"Input_input__24dvw\",\"label\":\"Input_label__3-Wil\",\"containerActive\":\"Input_containerActive__NKmK5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Links_message__SKLEX\",\"heightAnim\":\"Links_heightAnim__3DO1x\",\"appear\":\"Links_appear__3MU0v\",\"image\":\"Links_image__4rLoB\",\"urlMessage\":\"Links_urlMessage__2SEs9\",\"textMessage\":\"Links_textMessage__2QzVe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logIn\":\"Login_logIn__3Av5G\",\"topBar\":\"Login_topBar__2FKYl\",\"buttonContainer\":\"Login_buttonContainer___HDtm\",\"errorContainer\":\"Login_errorContainer__3Rfne\",\"appearFromBottom\":\"Login_appearFromBottom__25jzz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextMenu\":\"ContextMenu_contextMenu__3qmsv\",\"contextMenuHidden\":\"ContextMenu_contextMenuHidden__2YEnK\",\"item\":\"ContextMenu_item__2ziTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3de2d\",\"inputContainer\":\"Main_inputContainer__35VOy\",\"inputContainerText\":\"Main_inputContainerText__P3SPV\",\"inputButton\":\"Main_inputButton__30NvA\",\"uploadImageContainer\":\"Main_uploadImageContainer__2-OV5\",\"uploadImage\":\"Main_uploadImage__3UDpu\",\"uploadImageSvg\":\"Main_uploadImageSvg__3Bl80\",\"loadingSvg\":\"Main_loadingSvg__3Lonw\",\"rotate\":\"Main_rotate__fUcs_\",\"loading\":\"Main_loading__1-56n\",\"enbigger\":\"Main_enbigger__Z3RkF\",\"blurEffect\":\"Main_blurEffect__3jrdr\",\"h1Container\":\"Main_h1Container__2GtL-\",\"rotation\":\"Main_rotation__1jzl2\",\"topBar\":\"Main_topBar__2kkWe\",\"logOut\":\"Main_logOut__zT7Ja\",\"menuContainer\":\"Main_menuContainer__2znkv\",\"menuContainerOpen\":\"Main_menuContainerOpen__2NfKL\",\"menuCloseButton\":\"Main_menuCloseButton__RIzsQ\",\"menuList\":\"Main_menuList__3YNmC\",\"menuItem\":\"Main_menuItem__3mXI_\",\"flexContainer\":\"Main_flexContainer__2QlCf\",\"flexTop\":\"Main_flexTop__37RFt\",\"flexBottom\":\"Main_flexBottom__1Y8lE\",\"welcomeContainer\":\"Main_welcomeContainer__2rSMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\"};","import styles from \"./Input.module.css\";\n\nimport { useState } from \"react\";\nimport PropTypes from 'prop-types';\n\nfunction TextInput(props) {\n\n    const {label, id, value, onChange, type, onKeyPress} = props;\n    const [ active, setActive ] = useState(false);\n\n    const onFocus = () => {\n        setActive(true);\n    }\n\n    const onBlur = () => {\n        if (value !== \"\") return;\n        setActive(false);\n    }\n\n\n    return  <div className={active ? `${styles.container} ${styles.containerActive}` : styles.container }>\n                {label !== undefined && <label className={styles.label} htmlFor={id}>{label}</label>}\n                <input onKeyPress={onKeyPress} onChange={onChange} value={value} onFocus={onFocus} onBlur={onBlur} id={id} className={styles.input} type={type}/>\n            </div>\n}\nTextInput.propTypes = {\n    label: PropTypes.string,\n    id: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    type: PropTypes.string,\n    onKeyPress: PropTypes.func\n}\n\nfunction PassInput(props) {\n    const {label, id, value, onChange} = props;\n    const [ active, setActive ] = useState(false);\n\n    const onFocus = () => {\n        setActive(true);\n    }\n\n    const onBlur = () => {\n        if (value !== \"\") return;\n        setActive(false);\n    }\n\n    return  <div className={active ? `${styles.container} ${styles.containerActive}` : styles.container }>\n                <label className={styles.label} htmlFor={id}>{label}</label>\n                <input onChange={onChange} value={value} onFocus={onFocus} onBlur={onBlur} id={id} className={styles.input} type=\"password\"/>\n            </div>\n}\n\nPassInput.propTypes = {\n    label: PropTypes.string,\n    id: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func\n}\n\nfunction SubmitInput(props) {\n\n    const {value} = props;\n\n    return  <div>\n                <button type=\"submit\">{value}</button>\n            </div>\n}\nSubmitInput.propTypes = {\n    value: PropTypes.string\n}\n\nexport {TextInput, PassInput, SubmitInput};","import axios from \"axios\";\n\nexport function logIn(email, pass) {\n    return axios.post(\"/api/login\", {email, pass});\n}\n\nexport async function getUser() {\n    const res = await axios.get(\"/api/getuser\");\n    if (res.data.code !== 200) {\n        throw new Error(res);\n    }\n    return res.data.user;\n}\n\nexport async function logOut() {\n    const res = await axios.get(\"/api/logout\");\n    return res;\n}","import { TextInput, PassInput } from \"../Input\";\nimport {logIn} from \"../../services/api\";\n\nimport styles from \"./Login.module.css\";\n\nimport {useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function LogIn() {\n\n    const [form, setForm] = useState({username: \"\", password: \"\"});\n    const history = useHistory();\n    const [noti, setNoti] = useState(false);\n\n    const handlePasswordChange = (e) => {\n        setForm((form) => ({username: form.username, password: e.target.value}));\n    }\n\n    const handleUserChange = (e) => {\n        setForm((form) => ({username: e.target.value, password: form.password}));\n    }\n\n    const showErrorNotification = () => {\n        setNoti(true);\n        setTimeout(() => {\n            setNoti(false);\n        }, 4000);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        logIn(form.username, form.password).then(() => {\n            history.push(\"/\");\n        }).catch(() => {\n            showErrorNotification();\n        })\n\n        setForm({username: \"\", password: \"\"});\n    }\n\n    return  <div className={styles.logIn}>\n                <div className={styles.topBar}>\n                    <h1>Lnk</h1>\n                </div>\n                <form onSubmit={handleSubmit}>\n                    <TextInput onChange={handleUserChange} id=\"username\" value={form.username} label=\"Email\" type=\"email\"/>\n                    <PassInput onChange={handlePasswordChange} id=\"password\" value={form.password} label=\"Password\"/>\n                    <div className={styles.buttonContainer}>\n                        <button type=\"submit\">Log in</button>\n                    </div>\n                </form>\n     \n                {noti && <div className={noti ? styles.errorContainer : \"\"}>\n                    Wrong email or password :(\n                </div>}\n            </div>\n}","import { useMemo } from \"react\";\nconst WS_ID = 'wsid';\n\nfunction idGenerator(size = 32) {\n\tconst chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\n\treturn [...Array(size)].map(() => Math.floor(Math.random() * chars.length)).map(i => chars.charAt(i)).join('');\n}\n\nexport default function useId() {\n\treturn useMemo(() => {\n\t\tif (typeof window === 'undefined') return '';\n\t\tconst storedId = window.localStorage.getItem(WS_ID);\n\t\tif (storedId) {\n\t\t\treturn storedId;\n\t\t}\n\t\tconst generatedId = idGenerator();\n\t\twindow.localStorage.setItem(WS_ID, generatedId);\n\t\treturn generatedId;\n\t}, []);\n}\n","import styles from \"./Links.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImgMessage(props) {\n    const { content, openContextMenu } = props;\n\n    const copyImgUrl = () => {\n        navigator.clipboard.writeText(content);\n    }\n\n    const openInNewTab = () => {\n        window.open(content);\n    }\n\n    const contextItems = [\n        {label: 'Copy image URL', fn: copyImgUrl},\n        {label: 'Open in new tab', fn: openInNewTab}\n    ]\n\n    const onContextMenu = (e) => {\n        e.preventDefault();\n        const x = e.clientX || 0;\n        const y = e.clientY || 0;\n        \n        openContextMenu(x, y, contextItems);\n    }\n\n    return  <div onContextMenu={onContextMenu} className={`${styles.message} ${styles.textMessage}`}>\n                <img className={styles.image} src={content} alt='image sent by lnk'/>\n            </div>\n}\nImgMessage.propTypes = {\n    content: PropTypes.string,\n    openContextMenu: PropTypes.func\n}\n\n\n\nfunction TextMessage(props) {\n    const { content, openContextMenu } = props;\n\n    const copy = () => {\n        navigator.clipboard.writeText(content);\n    }\n\n    const contextItems = [\n        {label: 'Copy', fn: copy}\n    ];\n\n    const onContextMenu = (e) => {\n        e.preventDefault();\n        let x = e.clientX;\n        let y = e.clientY;\n        openContextMenu(x, y, contextItems);\n    }\n\n    return  <div onContextMenu={onContextMenu} className={`${styles.textMessage} ${styles.message}`}>\n                <span>{content}</span>\n            </div>\n}\nTextMessage.propTypes = {\n    content: PropTypes.string,\n    openContextMenu: PropTypes.func\n};\n\n\nfunction UrlMessage(props) {\n    const { content, openContextMenu } = props;\n\n    const goToUrl = (url) => {\n        if (window.electron) {\n            window.electron.openURL(url);\n        } else {\n            window.open(url);\n        }\n    }\n\n    const copyText = () => {\n        navigator.clipboard.writeText(content);\n    }\n\n    const goToURL = () => {\n        window.open(content, '_blank');\n    }\n\n    const contextItems = [\n        {label: 'Go to URL', fn: goToURL},\n        {label: 'Copy URL', fn: copyText}\n    ];\n\n    const onContextMenu = (e) => {\n        e.preventDefault();\n        const x = e.clientX;\n        const y = e.clientY;\n        openContextMenu(x, y, contextItems);\n    }\n\n    return  <div onContextMenu={onContextMenu} onClick={() => goToUrl(content)} className={`${styles.message} ${styles.urlMessage}`}>\n                <span>{content}</span>\n            </div>\n}\nUrlMessage.propTypes = {\n    content: PropTypes.string,\n    openContextMenu: PropTypes.func\n};\n\nfunction Links(props) {\n\n    const { links, openContextMenu } = props;\n\n\n    const validMessage = (msg) => {\n        switch(msg.type) {\n            case 'url':\n                return <UrlMessage openContextMenu={openContextMenu} content={msg.message}/>\n            case 'img':\n                return <ImgMessage openContextMenu={openContextMenu} content={msg.message}/>\n            default:\n                return <TextMessage openContextMenu={openContextMenu} content={msg.message}/>\n\n        }\n    }\n\n    const linksComp = links.map((msg) => {\n        return  <div key={msg.uid}>\n                    {validMessage(msg)}\n                </div>\n    });\n\n    return  <div className={styles.linksContainer}>\n                {linksComp}\n            </div>\n}\nLinks.propTypes = {\n    links: PropTypes.arrayOf(PropTypes.exact({\n        type: PropTypes.string,\n\t\tmessage: PropTypes.string,\n\t\tuid: PropTypes.string\n    })),\n    openContextMenu: PropTypes.func\n};\n\nexport default Links;\n","import styles from \"./ContextMenu.module.css\";\nimport PropTypes from 'prop-types';\n\nfunction ContextMenu({context}) {\n\n\n    return  <div style={{left: `${context.x}px`, top: `${context.y}px`}} className={context.visible ? styles.contextMenu : `${styles.contextMenu} ${styles.contextMenuHidden}`}>\n                {context.items.map((item) => (\n                    <div className={styles.item} onClick={() => item.fn()} key={item.label}>\n                        <span>{item.label}</span>\n                    </div>\n                ))}\n            </div>\n\n}\n\n\nContextMenu.propTypes = {\n    context: PropTypes.exact({\n        x: PropTypes.number,\n        y: PropTypes.number,\n        items: PropTypes.arrayOf(PropTypes.exact({\n            label: PropTypes.string,\n            fn: PropTypes.func\n        })),\n        visible: PropTypes.bool\n    })\n}\n\nexport default ContextMenu;","import { useState, useEffect } from \"react\";\nimport {getUser, logOut} from \"../../services/api\";\nimport useId from '../../hooks/useId';\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport styles from \"./Main.module.css\";\nimport {TextInput} from \"../Input\";\nimport Links from \"./Links\";\n\nimport ContextMenu from \"./contextMenu/ContextMenu\";\n\nconst WS_URL = (process.env.NODE_ENV === \"development\") ? \"ws://localhost:8081\" : \"wss://lnk.mssnapps.com/ws\";\n\nexport default function Main() {\n\n\tconst clientId = useId();\n    const [user, setUser] = useState({email: \"\", firstname: \"\", id: 0, key: \"\", lastname: \"\", username: \"\"});\n    const [messages, setMessages] = useState([]);\n    const [ws, setWs] = useState(null);\n    const [wsIsOpen, setWsIsOpen] = useState(false);\n    const [input, setInput] = useState(\"\");\n    const history = useHistory();\n\n    const [isNotification, setIsNotification] = useState(false);\n    const [isOpenLnk, setIsOpenLnk] = useState(false);\n\n    const [uploadingImage, setUploadingImage] = useState(false);\n\n    //Context menu\n    let mainRef = null;\n\n    const [contextPos, setContextPos] = useState({x: 0, y: 0, visible: false, items: []});\n\n    const openContextMenu = (x, y, items) => {\n        const rect = mainRef?.getBoundingClientRect();\n\n        const xp = x - rect.x;\n        const yp = y - rect.y;\n        setContextPos({x: xp, y: yp, visible: true, items});\n\n    }\n\n    const closeContextMenu = () => {\n        setContextPos((s) => ({...s, visible: false}));\n    }\n\n    //End Context Menu\n\n    useEffect(() => {\n        if (window.electron) {\n            window.electron.getIsNotificationActive().then((res) => {\n                setIsNotification(res);\n            });\n            window.electron.getIsOpenLnk().then((res) => {\n                setIsOpenLnk(res);\n            });\n        }\n    }, [])\n\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n \n\n    const sendMessage = (eMsg) => {\n        let msg = '';\n        if (eMsg) {\n            msg = JSON.stringify({code: \"message\", id: user.key, message: eMsg, sender: clientId});\n        } else {\n            if (input === '') return;            \n            msg = JSON.stringify({code: \"message\", id: user.key, message: input, sender: clientId});\n            setInput(\"\");\n        }\n        ws.send(msg);\n    }\n\n    useEffect(() => {\n\n        getUser().then((res) => {\n            setUser(res);\n            setWs(new WebSocket(WS_URL));\n\n            if(window.electron) {\n                window.electron.sendId(res);\n            }\n        }).catch(() => {\n            history.push(\"/login\");\n        });\n\n    }, [history]);\n\n    useEffect(() => {\n        if (user.key === \"\" || ws === null) return;\n\n        ws.addEventListener(\"message\", (data) => {\n            let msg = JSON.parse(data.data);\n            if (msg.code === \"message\") {\n                //let endMessage = JSON.parse(msg.endMessage);\n                setMessages(msg.content);\n            }\n            if (msg.code === 'success') {\n                setMessages(msg.content);\n            }\n        });\n        ws.addEventListener(\"open\", () => {\n            setWsIsOpen(true);\n            const msg = JSON.stringify({code: \"init\", id: user.key, message: \"\", sender: clientId});\n            ws.send(msg);\n        });\n\n        ws.addEventListener(\"close\" , () => {\n            setWs(new WebSocket(WS_URL));\n        });\n\n        ws.addEventListener(\"error\", () => {\n            setWsIsOpen(false);\n            setWs(null);\n        })\n\n        \n    }, [ws, user]);\n\n    const inputHandleChange = (e) => {\n        setInput(e.target.value);\n    }\n\n    const handleKeyPressed = (e) => {\n        if (e.code === \"Enter\") {\n            sendMessage();\n        }\n    }\n\n    const handleLogOut = () => {\n        logOut().then(() => {\n            history.push(\"/login\");\n        }).catch(() => {\n            alert(\"There was some problem logging out! :(\");\n        });\n    }\n\n    const handleNotificationChange = (e) => {\n        \n        if (window.electron) {\n            window.electron.setIsNotificationActive(e.target.checked).then((res) => {\n                setIsNotification(res)\n            }).catch((err) => {\n                console.error(\"Error communicating with Electron\", err);\n            })\n        }\n    }\n\n    const handleOpenLnk = (e) => {\n        if (window.electron) {\n            window.electron.setIsOpenLnk(e.target.checked).then((res) => {\n                setIsOpenLnk(res);\n            }).catch((err) => {\n                console.error(\"Error communicating with electron\", err);\n            })\n        }\n    }\n\n\tconst clearMessages = () => {\n\t\tif (!user.key) return;\n\n\t\tconst confirmation = confirm('Are you sure you want to delete the messages?');\n\t\tif (!confirmation) return;\n\t\tws?.send(JSON.stringify({\n\t\t\tcode: 'clear',\n\t\t\tmessage: 'clear',\n\t\t\tid: user.key,\n\t\t\tsender: clientId\n\t\t}));\n\t\tsetIsMenuOpen(false);\n\t}\n\n    const uploadImage = (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        setUploadingImage(true);\n\n        const generateToken = (length) => {\n            const chars = ['a', 'b', '2', 'd', '3', 'f'];\n            let res = [];\n            for (let i = 0; i < length; i++) {\n                const index = Math.floor(Math.random() * chars.length);\n                const char = chars[index];\n                res.push(char);\n            }\n            return res.join('');\n        }\n\n        const fileReader = new FileReader();\n        fileReader.onload = function(e) {\n            const result = e.target.result.split(',')[1] || '';\n\n            const token = generateToken(24);\n\n            axios.post('/api/signimage', {token}).then((res) => {\n                const {signature, expire} = res.data;\n\n                const form = new FormData();\n                form.append('file', result);\n                form.append('fileName', 'thisisanimage');\n                form.append('publicKey', 'public_thiWtzsiQZ8cgvw6NIzrOYadi1A=');\n                form.append('signature', signature);\n                form.append('expire', expire);\n                form.append('token', token);\n\n                const endPoint = 'https://upload.imagekit.io/api/v1/files/upload';\n\n                axios.post(endPoint, form).then((res) => {\n                    const finalUrl = `https://ik.imagekit.io/ft0gvf67ajj/${res.data.name}`;\n                    sendMessage(finalUrl);\n                    setUploadingImage(false);\n                }).catch((err) => {\n                    console.error(err);\n                    setUploadingImage(false);\n                })\n                \n            }).catch((err) => {\n                console.error(err);\n                setUploadingImage(false);\n            });\n        }\n        fileReader.readAsDataURL(file);\n    }\n\n    return  <div onClick={closeContextMenu} ref={(r) => mainRef = r} className={styles.main}>\n                {!wsIsOpen && <div className={styles.loading}><div className={styles.h1Container}><h1>Lnk</h1></div></div>}\n\n                <div className={isMenuOpen ? `${styles.menuContainer} ${styles.menuContainerOpen}` : styles.menuContainer}>\n                    <button className={ styles.menuCloseButton }onClick={() => setIsMenuOpen(false)}>\n                        <svg aria-hidden=\"false\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\"><polygon fill=\"currentColor\" fillRule=\"evenodd\" points=\"11 1.576 6.583 6 11 10.424 10.424 11 6 6.583 1.576 11 1 10.424 5.417 6 1 1.576 1.576 1 6 5.417 10.424 1\"></polygon></svg>\n                    </button>\n                    <ul className={styles.menuList}>\n                        { window.electron &&    <li className={styles.menuItem}>\n                                                    <label htmlFor=\"isNotCheck\">Notifications</label> \n                                                    <input id=\"isNotCheck\" onChange={handleNotificationChange} checked={isNotification} type=\"checkbox\"/>\n                                                </li>}\n                        { window.electron &&    <li className={styles.menuItem}>\n                                                    <label htmlFor=\"openLnk\">Open </label>\n                                                    <input id=\"openLnk\" onChange={handleOpenLnk} checked={isOpenLnk} type=\"checkbox\"/>\n                                                </li>}\n                        <li onClick={() => handleLogOut()} className={styles.menuItem}>Log out</li>\n\t\t\t\t\t\t<li onClick={() => clearMessages()} className={styles.menuItem}>Clear messages</li>\n                    </ul>\n                </div>\n                <div className={styles.flexContainer}>\n                    <div className={styles.flexTop}>\n                        <div className={styles.topBar}>\n                        <h1>Lnk</h1>\n                        <button className={styles.logOut} onClick={() => setIsMenuOpen(true)}>\n                            Menu\n                        </button>\n                        </div>\n                        <div className={styles.welcomeContainer}>\n                            <span>Welcome {user.username}!</span>\n                        </div>\n\n                        <div className={styles.inputContainer}>\n                            <div className={styles.inputContainerText}>\n                                <TextInput onKeyPress={handleKeyPressed} onChange={inputHandleChange} value={input} type=\"text\"/>\n                            </div>\n                            <button disabled={input === \"\"} className={styles.inputButton} onClick={() => sendMessage()}>Send</button>\n                            <div className={styles.uploadImageContainer}>\n                                <label className={styles.uploadImage} htmlFor='image-upload'>\n                                    {uploadingImage ?\n                                        <svg className={styles.loadingSvg} xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M22 12c0 6-4.39 10-9.806 10C7.792 22 4.24 19.665 3 16\"/><path d=\"M2 12C2 6 6.39 2 11.806 2 16.209 2 19.76 4.335 21 8\"/><path d=\"M7 17l-4-1-1 4\"/><path d=\"M17 7l4 1 1-4\"/></svg>\n                                    :\n                                        <svg className={styles.uploadImageSvg} xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#dddbdb\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M2 6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V6z\"/><circle cx=\"8.5\" cy=\"8.5\" r=\"2.5\"/><path d=\"M14.526 12.621L6 22h12.133A3.867 3.867 0 0 0 22 18.133V18c0-.466-.175-.645-.49-.99l-4.03-4.395a2 2 0 0 0-2.954.006z\"/></svg>\n                                    }\n                                </label>\n                                <input onChange={uploadImage} style={{display: 'none'}} type='file' id='image-upload' name='image' accept='image/*'/> \n                            </div>\n                        </div>\n\n                    </div>\n                    <div className={styles.flexBottom}>\n                        <Links openContextMenu={openContextMenu} links={messages}/>\n                    </div>\n                </div>\n\n\n                <ContextMenu context={contextPos}/>\n\n                \n                \n            </div>\n\n}\n","import styles from \"./App.module.css\";\nimport LogIn from \"./components/Login/LogIn\";\nimport Main from \"./components/Main/Main\";\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\n\n\nexport default function App() {\n\n    if (process.env.NODE_ENV === 'development') console.log(\"Running on development!\");\n\n    return  <Router basename=\"/\">\n                <div className={styles.container}>\n                    <Switch>\n                        <Route path=\"/login\">\n                            <LogIn/>\n                        </Route>\n                        <Route path=\"/\">\n                            <Main/>\n                        </Route>\n                    </Switch>\n                </div>\n            </Router>\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}